# Branch 전략
현재 근무하는 회사의 인원은 소규모이며 팀 규모는 더욱 작다
개발 팀 인원도 사실상 2명이 전부라 따로 브랜치 관리를 하지 않는다.
그러나 프로젝트 규모가 증가하고 팀 규모가 커지면 branch를 분리해서 사용한다고 한다.

해당 경험이 없고 팀 프로젝트나 타 프로젝트 참여 시 branch에 대한 이해가 없으면 소통이 어렵다고 판단해서 branch가 뭔지 어떤식으로 활용하는지 알아보자

## Branch
Git Branch는 Git에서 코드를 분기하여 관리하는 개념이다.
Git은 기본적으로 master 브랜치를 가지고 있고 이 master에서 뻣어나가는 새로운 브랜치를 만들어 기존 master와 독립적으로 운영이 가능하다.

이런 여러갈래의 새로운 브랜치를 어떤식으로 나누고 관리하며 통합하는 과정을 가질지는 정하는 것이 바로 브랜치 전략이다.

## Branch 전략이란
팀 단위의 작업을 할떄 더더욱 필수적이다.
어떤 팀원은 현재 버그를 수정하기도 하고, 어떤 팀원은 신규 기능 개발을 하기도 한다. 동시에 여러 작업들을 할 수 있도록 브랜치를 사용하는 것이고 이를 위해서 브랜치 전략을 구성해야한다.

### Git flow
하나의 협업 개발 원칙이다.
여러 기본 브랜치를 사용하는 대중적인 git Branch 모델이다.
프로젝트를 효율적으로 관리하기 위해서 master, develop, feature, release, hotfix 종류로 구분한다.
![](https://velog.velcdn.com/images/kimdodo/post/be301cdf-47ae-4cb7-868b-dae6032cfdc2/image.png)

위 구조를 통해서 분석해보자

featrue에서 새로운 기능을 개발한다. 신규 기능이 개발되면 develop 브랜치에 merge 한다.
배포 준비가 완려되면 release 브랜치로 merge 하고 최종 release 상태의 내용을 master로 버전 표기호 merge 한다.
이 과정에서 중요한 버그가 발생시 hotfix 브랜치에서 작업 후 해당 브랜치로 이동시켜 작업을 한다.


- master
최종 배포할 서비스 내용의 브랜치, 태그로 버전 표시
- develop
주요 개발 브랜치, 이 브랜치를 기준으로 각자 작업한 기능 merge
- feature
기능 개발 브랜치, 기능 개발 완료시 develop 브랜치에 merge
- release
최종 배포 이전 과정 QA 작업
-hotfix
master 브랜치 배포 이후 버그 발생 서 긴급 수정 브랜치

## Github flow
git flow의 실용성 문제로 나온 브랜치 전략
hotfix, feature, develop 등 브랜치를 구분하지 않으며 수시로 배포
> 배포 자동화 프로젝트에서 유용

![](https://velog.velcdn.com/images/kimdodo/post/b3eaf1c4-48e9-464f-a45a-2dd80df49aaf/image.png)
master의 상태가 아주 중요하다. stable, 최신 상태를 유지하고 테스트를 충분히 완료된 상태여야함

각 세부 단계를 브랜치로 나눈게 아니기 때문에 다양한 브랜치를 마스터 브랜치에서 만들어야하고, 이름을 상세하게 명명해야함

또한 커밋 메시지를 확실하게 써야 한다.

최신 상태 유지를 위해서 수시로 push 해야하며 PR 기능을 통해서 리뷰 와 피드백을 자주 받는 것이 중요
>**master로 push,merge시 즉시 배포되야함**

## 브랜치 관리가 필요한 이유
팀원이 여러명인 경우 동시 작업을 위해서 master 브랜치에서 개발을 진행하면 문제가 발생
각 브랜치를 만들고 자신의 branch에서 각자의 부분의 개발
이후 개인 작업 내용을 master에 merge하거나 브랜치끼리 merge 하면 문제 해결

마스터 브랜치에서 문제가 생성됬을때 원인을 찾아 수정하는 과정에서 시간이 많이 소요
용도와 역할에 따른 브랜치 구분을 통해서 배포, 에러시 시간 문제 해결


## 나의 상황
현재 회사는 master 브랜치에서 바로 작업하는 과정
팀원이 적고 프로젝트 규모가 크지 않아 문제가 자주 발생하지 않음
다만 코드 설계의 문제로 모듈간 결합도가 높아서 머신러닝 관련 모듈에서 문제 발생시 프로젝트 셧다운 되는 문제가 종종 발생함

브랜치를 나누지 않아서 문제가 발생할떄 전체 프로젝트를 확인하는게 늘 불만인데 브랜치 전략을 도입하는 것도 좋아보임